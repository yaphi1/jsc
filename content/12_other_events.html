<!DOCTYPE html>
<html>
<head>
<title>12 - other events</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="stylesheet" type="text/css" href="../formatting/course_style.css">


<link rel="stylesheet" type="text/css" href="../formatting/code_formatting/prism.css">


</head>
<body class="language-javascript">


<div id="menubar">
	Simple Steps JavaScript
</div>


<div id="content">
	<div id="maincol">

		
		<h1>Handle user interactions besides clicks</h1>


		<p>You know how to respond to user clicks, but what about the other things your users can do?</p>

		<p>Fortunately, JavaScript has events besides onclick, and in this unit, we'll look at <b>onkeypress</b>, <b>onfocus</b>, and <b>onblur</b>.</p>



		<div class="special_section getting_started">
			<h2>Getting Started</h2>
			<p>
				Copy and paste the following code into a new HTML document:
			</p>
			<pre><code class="language-markup">
				&lt;!DOCTYPE html&gt;
				&lt;html&gt;
				&lt;head&gt;
					&lt;title&gt;&lt;/title&gt;
					&lt;meta charset="UTF-8"&gt;
				&lt;/head&gt;
				&lt;body&gt;


				&lt;script&gt;

				&lt;/script&gt;
				&lt;/body&gt;
				&lt;/html&gt;
			</code></pre>

			<p>
				For convenience, you can start with this HTML document to type the code from the lesson.
			</p>
			<p><b>Remember to put all scripts between the script tags.</b></p>
		</div>



		<div class="section">
			<h2>The onkeypress event: Respond when the user presses a key</h2>

			<p>The <b>onkeypress</b> event works exactly like <b>onclick</b> except that it looks for key presses instead of clicks.</p>
			<p>Type the following code to try it out.</p>

			<pre><code class="language-markup">
				&lt;input id="mytext" type="text"&gt;
				&lt;div id="output"&gt;&lt;/div&gt;

				&lt;script&gt;
				document.getElementById('mytext').onkeypress = function(){
					var text = document.getElementById('mytext').value;
					document.getElementById('output').innerHTML = text;
				};
				&lt;/script&gt;
			</code></pre>

			<p>Here's what the code does:</p>

			<p>If you press a key inside the text box, the value of the text box (before the key press) will be shown in the output div.</p>

			<p><strong>But wait... Why is it one step behind?</strong></p>
			
			<p>The key press happens right before the value of the text box changes.  That means the div will show the value of the text box <i>before</i> the text changed.</p>

			<p>If you want to show the value of the textbox after the key has been pressed, you'll need more precise control.  That's where other keyboard events can help.</p>

		</div>






		<div class="section">
			<h2>Other keyboard events:</h2>

			<p>If you want more precise control, you can replace <b>onkeypress</b> with <b>onkeydown</b> or <b>onkeyup</b>.  Try each of them out once to see what changes.</p>

			<p><strong>When a key is pressed, here is the order of events:</strong></p>
			
			<p><b>onkeydown</b> -&gt; <b>onkeypress</b> -&gt; <b>onkeyup</b></p>

		</div>







		<div class="section">
			<h2>The onfocus and onblur events: Respond when a user selects or deselects a text box</h2>

			<p>The <b>onfocus</b> and <b>onblur</b> events work just like <b>onclick</b> except they happen when a user focuses on a text box or unfocuses on the text box.</p>

			<p>Type the following to try it out:</p>

			<pre><code class="language-markup">
				&lt;input id="mytext" type="text"&gt;
				&lt;div id="output"&gt;&lt;/div&gt;

				&lt;script&gt;
				document.getElementById('mytext').onfocus = function(){
					document.getElementById('output').innerHTML = 'text box selected';
				};

				document.getElementById('mytext').onblur = function(){
					document.getElementById('output').innerHTML = 'text box deselected';
				};
				&lt;/script&gt;
			</code></pre>

		</div>




		<div class="section">
			<h2>Exercises:</h2>
			<ol>
				<li>
					<p>Let the user enter a name inside a text <b>input</b> box.</p>
					<p>Every time a key is released (use <b>onkeyup</b>), the greeting in a div should say:</p>
					<p>"Hello [name goes here]"</p>
				</li>

				<li>
					<p>When a user focuses on a text <b>input</b> box, change the style of the text box to have a thick green border.</p>
					<p>When the user unfocuses on the text box, remove the green border.</p>
				</li>

				<li>
					<p><strong>Basic form validation</strong></p>
					<p>In this question, you're going to make sure a text box isn't empty.  Complete the following steps:</p>

					<ul>
						<li>Create a text <b>input</b> box.</li>
						<li>
							<p>Write a function that turns the text box's border red if the box is empty.</p>
							<p>(It's empty if the value equals <code>""</code>).</p>
							<p>The border should go back to normal if the value is not empty.</p>
						</li>
						<li>When the user releases a key (<b>onkeyup</b>), run the function you just created.</li>
					</ul>
					
				</li>
			</ol>
		</div>




		<div class="section">
			<p>Congrats. Now you don't have to be limited to click events.</p>

			<p>There are other events out there, but now that you understand how events work, you can use any of them by simply looking them up.</p>
		</div>

	</div>




	<div id="sidebar">
		<a href="#">Course Map</a>
		<a href="#">Contact</a>
		<a href="#">Log out</a>
	</div>
</div>



<div id="footer">
	&copy; Simple Steps Code
</div>




<script>
//**********************************************************
//
// ALLOW NORMAL INDENTING IN CODE SAMPLES
//
//**********************************************************
(function(){
	var pres = document.getElementsByTagName('pre');
	for(var i=0; i<pres.length; i++){
		
		// get code elements from pre tags (ignore standalone code elements)
		var code = pres[i].getElementsByTagName('code')[0];
		var output = code.innerHTML;

		// remove extra tabs (so you can indent normally in code samples)
		var tabs = output.match(/^\n*(\t+)/);
		if(tabs){

			// count beginning tabs (to get base level of indentation)
			var n = tabs[1].length;
			
			// remove that number of beginning tabs from each line
			var reg = RegExp('^\t{'+n+'}','gm');
			output = output.replace(reg,'');
		}

		// trim beginning and end of code sample
		output = output.replace(/^\n+|\s+$/g,'');

		// show clean output in code samples
		code.innerHTML = output;
	};
})();
</script>
<script src="../formatting/code_formatting/prism.js"></script>
</body>
</html>