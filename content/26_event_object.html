<!DOCTYPE html>
<html>
<head>
<title>26 - event object</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="stylesheet" type="text/css" href="../formatting/course_style.css">


<link rel="stylesheet" type="text/css" href="../formatting/code_formatting/prism.css">

</head>
<body class="language-javascript">


<div id="menubar">
	Simple Steps JavaScript
</div>


<div id="content">
	<div id="maincol">





		<h1>The Event Object - Gain More Control Over Your Events</h1>


		<p>By now you know how to detect events such as clicks, key presses, and more.</p>

		<p>But what if you're not satisfied yet?</p>

		<p>What if you want to know where on the page someone clicked, which key they pressed, or where they moved their mouse?</p>

		<p>Good news! There's something called the <strong>event object</strong> that gives you all this info.</p>



		<div class="special_section getting_started">
			<h2>Getting Started</h2>
			<p>
				Copy and paste the following code into a new HTML document:
			</p>
			<pre><code class="language-markup">
				&lt;!DOCTYPE html&gt;
				&lt;html&gt;
				&lt;head&gt;
					&lt;title&gt;&lt;/title&gt;
					&lt;meta charset="UTF-8"&gt;
				&lt;/head&gt;
				&lt;body&gt;


				&lt;script&gt;

				&lt;/script&gt;
				&lt;/body&gt;
				&lt;/html&gt;
			</code></pre>

			<p>
				For convenience, you can start with this HTML document to type the code from the lesson.
			</p>
			<p><b>Remember to put all scripts between the script tags.</b></p>
		</div>





		<div class="section">
			<h2>What is the event object and how do you find it?</h2>

			<p>Whenever an event happens (like a click or a key press), JavaScript gives you an object with information about that event.</p>

			<p>This is called the <b>event object</b>.</p>

			<p>Type the following script to see how it works:</p>

			<pre><code>
				window.onclick = function(e){
					console.log(e);
				};
			</code></pre>

			<p>Now click anywhere in the browser window and watch the console.</p>

			<p>Notice that each time you click, you get a bunch of data about that click.  That data is the <b>event object</b>.  You can call it whatever you want, but we've just called it "e" because it's short.</p>

			<p>Quick Note:<br> For simplicity, we're checking when the user clicks anywhere on the window, but this could easily be any other event like a button click, a key press inside a text box, or other things.</p>

		</div>





		<div class="section">
			<h2>Get the coordinates of a click</h2>

			<p>Remember that with objects, you can access their properties.  The event object is no different.</p>

			<p>Type the following to get the coordinates of each click:</p>

			<pre><code>
				window.onclick = function(e){
					console.log('x = ' + e.pageX);
					console.log('y = ' + e.pageY);
				};
			</code></pre>

			<p>Neat, right?</p>

			<p>There are plenty of ways you can use this.</p>

			<ul>
				<li>Maybe you have a map and you want to place a marker where the user clicks.</li>
				<li>Maybe you're creating web analytics software and you want to record where users click most.</li>
				<li>Maybe you're making a game whose input involves clicking.</li>
			</ul>

			<p>Also, feel free to play around with various events and event object properties.</p>

		</div>






		<div class="section">
			<h2>Find out which key was pressed</h2>

			<p>Type the following to get data about each key press:</p>

			<pre><code>
				window.onkeydown = function(e){
					console.log(e);
					console.log(e.keyCode);
				};
			</code></pre>

			<p>Here we're looking at two things:</p>
			<ul>
				<li>The event object (all data about this key press)</li>
				<li>The pressed key's code number ("a" gives 65, "d" gives 68, and the up arrow gives 38 for example)</li>
			</ul>

			<p>When you log the event object in your console, you can click on it to see what properties are available.</p>

			<p><strong>Note about keyCode:</strong><br> There have been a lot of changes in how key presses are handled, so when you're making your big site or app, be sure to check compatibility.</p>

		</div>








		<div class="section">
			<h2>Exercises:</h2>
			
			<p>There's not really much to memorize here as long as you understand how the event object works, so these exercises are going to be more about experimenting and playing.</p>

			<ol>
				<li>
					<p>When the user clicks anywhere on the page, show the <b>event object</b> in the console.</p>
					<p>Once you get that to work, try other events and see what happens.  Maybe <code>onmousemove</code> or <code>onkeydown</code> or something else.</p>
					<p>Experiment with some of the properties to see what's available.</p>
				</li>

				<li>
					<p>When the user clicks anywhere on the page, display the coordinates of that click in a div.</p>
				</li>

				<li>
					<p><strong>Practical mini-project: Place a marker on a map</strong></p>
					<p>Create a page with a map and a destination marker.</p>
					<p>On that page, you should be able to change the position of the destination marker by clicking anywhere on the map.</p>
					<p><strong>Hint:</strong><br> You already know how to get the coordinates of a click.  The rest of this question is just CSS positioning.</p>
				</li>

				<li>
					<p><strong>Practical mini-project: Make a basic moving game character token</strong></p>
					<p>Create a div that's a small orange square.</p>
					<p>When the user pushes a key anywhere on the page, check the keyCode.</p>
					<p>If the keyCode corresponds to the up arrow, the square should move up 20 pixels.  If right arrow, right 20 pixels.  Etc.</p>
					<p>If done correctly, you should be able to move this token around the screen.</p>
					<p>For fun, you can replace it with an image of a game character.</p>
					<p>Bonus: What if you want it to move more smoothly?</p>
				</li>

			</ol>
		</div>






		<div class="section">
			<p>I hope you've enjoyed learning about the event object.</p>

			<p>It unlocks a lot of functionality that you can now use, so feel free to experiment!</p>

		</div>


	</div>




	<div id="sidebar">
		<a href="#">Course Map</a>
		<a href="#">Contact</a>
		<a href="#">Log out</a>
	</div>
</div>



<div id="footer">
	&copy; Simple Steps Code
</div>




<script>
//**********************************************************
//
// ALLOW NORMAL INDENTING IN CODE SAMPLES
//
//**********************************************************
(function(){
	var pres = document.getElementsByTagName('pre');
	for(var i=0; i<pres.length; i++){
		
		// get code elements from pre tags (ignore standalone code elements)
		var code = pres[i].getElementsByTagName('code')[0];
		var output = code.innerHTML;

		// remove extra tabs (so you can indent normally in code samples)
		var tabs = output.match(/^\n*(\t+)/);
		if(tabs){

			// count beginning tabs (to get base level of indentation)
			var n = tabs[1].length;
			
			// remove that number of beginning tabs from each line
			var reg = RegExp('^\t{'+n+'}','gm');
			output = output.replace(reg,'');
		}

		// trim beginning and end of code sample
		output = output.replace(/^\n+|\s+$/g,'');

		// show clean output in code samples
		code.innerHTML = output;
	};
})();

</script>
<script src="../formatting/code_formatting/prism.js"></script>
</body>
</html>